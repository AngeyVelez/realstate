"use strict";(self.webpackChunkngx_admin_demo=self.webpackChunkngx_admin_demo||[]).push([[960],{93960:(F,p,c)=>{c.r(p),c.d(p,{BranchOfficeModule:()=>T});var h=c(36895),y=c(44466),C=c(7672);function g(n,r,t,o,s,i,a){try{var f=n[i](a),m=f.value}catch(M){return void t(M)}f.done?r(m):Promise.resolve(m).then(o,s)}function b(n){return function(){var r=this,t=arguments;return new Promise(function(o,s){var i=n.apply(r,t);function a(m){g(i,o,s,a,f,"next",m)}function f(m){g(i,o,s,a,f,"throw",m)}a(void 0)})}}var u=c(74385),e=c(82963);let E=(()=>{class n{ngOnInit(){this.renderValue=this.value&&this.value.nombre?this.value.nombre:""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],inputs:{value:"value",rowData:"rowData"},decls:1,vars:1,template:function(t,o){1&t&&e.\u0275\u0275text(0),2&t&&e.\u0275\u0275textInterpolate1(" ",o.renderValue," ")},encapsulation:2}),n})();var d=c(24006);function O(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"option",2),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=r.$implicit;e.\u0275\u0275property("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.nombre," ")}}let _=(()=>{class n extends u.U5{constructor(){super(...arguments),this.cellValueOptions=[{id:"1",nombre:"Activo"},{id:"2",nombre:"Inactivo"}]}ngOnInit(){this.cell.setValue(this.cellValueOptions[0])}onChange(t){this.cell.setValue(this.cellValueOptions.find(o=>o.id===t))}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.\u0275\u0275getInheritedFactory(n)))(o||n)}}(),n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:2,consts:[[2,"width","100%","padding","5px","border-color","rgb(206, 212, 218)",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"select",0),e.\u0275\u0275listener("ngModelChange",function(i){return o.onChange(i)}),e.\u0275\u0275template(1,O,2,2,"option",1),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("ngModel",o.cell.getValue()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.cellValueOptions))},dependencies:[h.sg,d.YN,d.Kr,d.EJ,d.JJ,d.On],encapsulation:2}),n})();var l=c(36517);let v=(()=>{class n{constructor(t){this.ref=t}confirm(){this.ref.close(!0)}dismiss(){this.ref.close(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(l.X4l))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],inputs:{title:"title",message:"message"},decls:10,vars:2,consts:[["nbButton","","status","danger",3,"click"],["nbButton","","status","basic",3,"click"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"nb-card-footer")(6,"button",0),e.\u0275\u0275listener("click",function(){return o.confirm()}),e.\u0275\u0275text(7,"Confirmar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",1),e.\u0275\u0275listener("click",function(){return o.dismiss()}),e.\u0275\u0275text(9,"Cancelar"),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(o.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(o.message))},dependencies:[l.Asz,l.yKW,l.XWE,l.ndF,l.DPz],encapsulation:2}),n})();var B=c(72573);const D=[{path:"",component:(()=>{class n{constructor(t,o){this.branchOffice=t,this.dialogService=o,this.settings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{id:{title:"ID",type:"number",editable:!1,addable:!1},nombre:{title:"Nombre",type:"string"},direccion:{title:"Direccion",type:"string"},telefono:{title:"Telefono",type:"string"},estado:{title:"Estado",type:"custom",filter:!1,renderComponent:E,editor:{type:"custom",component:_}}}},this.source=new u.nC,this.branchOffices=[]}ngOnInit(){this.branchOffice.getBranchOffices().subscribe(t=>{this.source.load(t),this.branchOffices=t})}onEditConfirm(t){var o=this;this.dialogService.open(v,{context:{title:"Confirmar Edici\xf3n",message:"\xbfEst\xe1s seguro de que deseas editar este elemento?"}}).onClose.subscribe(function(){var s=b(function*(i){if(i)try{const a=t.newData;yield o.branchOffice.updateBranchOffice(a).toPromise(),o.source.refresh()}catch{t.confirm.reject()}else t.confirm.reject()});return function(i){return s.apply(this,arguments)}}())}onDeleteConfirm(t){var o=this;this.dialogService.open(v,{context:{title:"Confirmar Eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas eliminar este elemento?"}}).onClose.subscribe(function(){var s=b(function*(i){if(i)try{const a=t.data;o.source.remove(a),yield o.branchOffice.deleteBranchOffice(a).toPromise()}catch{t.confirm.reject()}else t.confirm.reject()});return function(i){return s.apply(this,arguments)}}())}createConfirm(t){const o=t.newData;o.id=(new Date).getTime(),t.confirm.reject(),this.branchOffice.createBranchOffice(o).subscribe(()=>{this.source.refresh()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(B.k),e.\u0275\u0275directiveInject(l.Gln))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-list-branch-office"]],decls:3,vars:2,consts:[[3,"settings","source","editConfirm","deleteConfirm","createConfirm"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div")(1,"nb-card-body")(2,"ng2-smart-table",0),e.\u0275\u0275listener("editConfirm",function(i){return o.onEditConfirm(i)})("deleteConfirm",function(i){return o.onDeleteConfirm(i)})("createConfirm",function(i){return o.createConfirm(i)}),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("settings",o.settings)("source",o.source))},dependencies:[l.yKW,u.T5]}),n})(),children:[]}];let I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[C.Bz.forChild(D),C.Bz]}),n})(),T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[h.ez,l.zyh,l.T2N,u.ne,I,y.m]}),n})()}}]);